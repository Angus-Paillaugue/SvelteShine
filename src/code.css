/* USER CONFIG : Code blocks colors */
:root {
  /* Use the R, G, B format for the colors */
  --line-removed-bg: 224, 108, 117;
  --line-removed-opacity: 0.3;
  --line-added-bg: 152, 195, 121;
  --line-added-opacity: 0.3;
  --line-highlighted-bg: 255, 255, 255;
  --line-highlighted-opacity: 0.1;
  --inline-code-bg: #282c34;
}

code {
  counter-reset: step;
  counter-increment: step 0;
  direction: ltr;
  -moz-tab-size: 2;
  -o-tab-size: 2;
  tab-size: 2;
  @apply text-shadow-code ligatures-normal hyphens-none whitespace-pre-wrap;
}

.shiki {
  @apply rounded-md relative mb-4 py-2;
}

/* File name */
.remark-code-title {
  @apply text-base font-medium bg-neutral-300 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-200 rounded-t-md px-3 py-1 flex flex-row gap-4 items-center;
}
.remark-code-title ~ .shiki {
  @apply rounded-t-none;
}

.copy-code-button {
  @apply max-h-[2.5rem] bg-neutral-950 text-white rounded-full flex items-center justify-center absolute transition hover:scale-105 active:scale-90 focus:outline-none right-1 top-1 bottom-1 p-1 aspect-square;
}

pre.line-numbers > code .line::before {
  content: counter(step);
  counter-increment: step;
  font-variant-numeric: tabular-nums;
  @apply inline-block text-right mr-2 text-neutral-500 dark:text-neutral-400 w-6;
}
pre > code .line {
  @apply w-full inline-block pl-2;
}
pre > code {
  @apply block w-full;
}
code .line {
  @apply w-full inline-block;
}
/* For highlighted lines */
.diff.remove {
  background-color: rgba(var(--line-removed-bg), var(--line-removed-opacity));
}
.diff.add {
  background-color: rgba(var(--line-added-bg), var(--line-added-opacity));
}
code .line.diff::before {
  counter-increment: step;
  font-variant-numeric: tabular-nums;
  @apply inline-block text-right mr-2 w-6;
}
code .line.diff.add::before {
  content: '+';
  color: rgb(var(--line-added-bg));
}
code .line.diff.remove::before {
  content: '-';
  color: rgb(var(--line-removed-bg));
}
.highlighted {
  background-color: rgba(var(--line-highlighted-bg), var(--line-highlighted-opacity));
}
/* Inline code */
code:not(pre code) {
  @apply rounded-md bg-[var(--inline-code-bg)] text-neutral-300 px-1 py-0.5 text-base;
}
